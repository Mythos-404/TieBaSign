name: "Baidu Tieba Auto Sign"

on:
    push:
        branches:
            - main
    schedule:
        - cron: "0 22 * * *"

jobs:
    tieba_sign:
        runs-on: ubuntu-latest
        steps:
            - name: "签出代码"
              uses: actions/checkout@v4
            - name: "安装 Python"
              uses: actions/setup-python@v5
              with:
                  python-version: "3.12.1"
            - name: "安装依赖"
              run: python -m pip install --upgrade requests
            - name: "开始签到"
              env:
                  BDUSS: ${{ secrets.BDUSS }}
                  HOST: ${{ secrets.HOST }}
                  FROM: ${{ secrets.FROM }}
                  TO: ${{ secrets.TO }}
                  AUTH: ${{ secrets.AUTH }}
              run: python main.py
